# ==============================================
# Laravel DDD Mode Configuration (v1.0)
# Defines the structure, defaults, and generation rules
# for Laravel domain-driven scaffolding.
# ==============================================

# ----------------------------------------------
# Mode Metadata
# See docs at: https://omarsemgey.github.io/ForgeFoundary/Modes/ModeSections/Mode_Metadata/
# ----------------------------------------------
mode_metadata: 
  name: laravel-ddd
  version: 1.0
  description: >
    Defines the Laravel domain-driven structure for app scaffolding.
  language: php
  author: omar

# ----------------------------------------------
# Base YAML Mutators
# Canonical values for config keys that can be "mutated" via CLI flags.
# Use YAML anchors (e.g., &mutator) to define them and aliases (*mutator)
# to link these values to default keys or CLI overrides.
# See docs at: https://omarsemgey.github.io/ForgeFoundary/Modes/ModeSections/Mutators/
# ----------------------------------------------
# --- Component Mutators ---
component_path_mutator: &component_path_mutator /home/Genocide/Code/projects/boardify/back-end/app/Domains 
component_name_mutator: &component_name_mutator YourDomainName

# --- Template Mutators ---
templates_path_mutator: &templates_path_mutator Modes/laravel-ddd/Templates/ 
template_file_extension_mutator: &template_file_extension_mutator php
templates_require_existing_dirs_mutator: &templates_require_existing_dirs_mutator true
templates_enabled_mutator: &templates_enabled_mutator true

# --- Directories Mutators ---
directories_enabled_mutator: &directories_enabled_mutator true

# --- Naming Convention Mutators ---
naming_conventions_enabled_mutator: &naming_conventions_enabled_mutator true

# --- Commands Mutators ---
commands_enabled_mutator: &commands_enabled_mutator true

# --- Cli Flags Mutators ---
cli_flags_enabled_mutator: &cli_flags_enabled_mutator true


# ----------------------------------------------
# CLI Flags
# Links mutators to command-line options.
# Any key referencing a mutator can be overridden via CLI.
# See docs at: https://omarsemgey.github.io/ForgeFoundary/Modes/ModeSections/CLI_Flags/
# ----------------------------------------------
cli_flags_enabled: *cli_flags_enabled_mutator
cli_flags: 
  # --- Component Cli Flags ---
  component_path: *component_path_mutator
  component_name: *component_name_mutator

  # --- Directory Cli Flags ---
  directories_enabled: *directories_enabled_mutator
  
  # --- Templates Cli Flags ---
  template_file_extension: *template_file_extension_mutator
  templates_path: *templates_path_mutator
  templates_enabled: *templates_enabled_mutator

  # --- Commands Cli Flags ---
  commands_enabled: *commands_enabled_mutator

  # --- Naming Convention Cli Flags ---
  naming_conventions_enabled: *naming_conventions_enabled_mutator


# ----------------------------------------------
# Commands
# Project-specific tasks run before or after scaffolding.
# See docs at: https://omarsemgey.github.io/ForgeFoundary/Modes/ModeSections/Commands/
# ----------------------------------------------
commands_enabled: *commands_enabled_mutator
commands: 
  # Pre-scaffold hooks
  before: []   
  # Post-scaffold hooks
  after: 
    - composer dump-autoload
    - php artisan migrate
    - php artisan route:clear

# ----------------------------------------------
# Component
# The main folder containing all generated archeticture.
# See docs at: https://omarsemgey.github.io/ForgeFoundary/Modes/ModeSections/Component/
# ----------------------------------------------
component_path: *component_path_mutator # Absolute value or relative to where you run the tool
component_name: *component_name_mutator

# ----------------------------------------------
# Directories
# Default domain substructure to generate for each component.
# See docs at: https://omarsemgey.github.io/ForgeFoundary/Modes/ModeSections/Directories/
# ----------------------------------------------
directories_enabled: *directories_enabled_mutator
directories:
  - Migrations
  - Models
  - Policies
  - Providers
  - Controllers
  - DTOs
  - Requests
  - Services
  - Repositories
  - Routes/Api
  - Tests/Feature
  - Tests/Unit
  - Seeders
  - Factories

# ----------------------------------------------
# Templates
# Defines default template behavior and per-template overrides.
# NOTE: the code currenlty only supports mustache and twig templating engines
# See docs at: https://omarsemgey.github.io/ForgeFoundary/Modes/ModeSections/Templates/
# ----------------------------------------------
templates_path: *templates_path_mutator # Absolute value or relative to the tool App/Src folder
templates_enabled: *templates_enabled_mutator
templates_require_existing_dirs: *templates_require_existing_dirs_mutator # If true, only templates for existing directories will be processed.
template_engine_extensions: 
  - mustache
  - twig
  - blade.php

templates:
  defaults: 
    file_name: defaultFileName
    file_extension: *template_file_extension_mutator
    placeholders: 
      domain_name: *component_name_mutator

  overrides: {}


# ----------------------------------------------
# Naming Convention
# Applies styles (camelCase, PascalCase, etc.) to components, directories, units, templates and templates metadata.
# See docs at: https://omarsemgey.github.io/ForgeFoundary/Modes/ModeSections/Naming_Conventions/
# ----------------------------------------------
naming_conventions_enabled: *naming_conventions_enabled_mutator
naming_conventions:
  component:
    defaults: [pascal_case]

  directories:
    defaults: [pascal_case]   

  templates:
    defaults: [singular, pascal_case]
    overrides:
      model.mustache: [singular, pascal_case]
      routes.mustache: [kebab_case]

  templates_placeholders:
    overrides:
      domain_name: [snake_case]